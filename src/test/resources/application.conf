# Example config file - edit to your taste.

akka {
  loglevel = DEBUG

  system = "TestingSystem"

  actor {
    debug {
      # Logging of message invocations on certain actors (using akka.event.LoggingReceive)
      receive   = on

      # Log unhandled actor messages
      unhandled = on
    }

    provider = "akka.cluster.ClusterActorRefProvider"
  }
}

flow {
  test {
    stream-dispatcher {
      type = Dispatcher
      executor = "fork-join-executor"
    }
  }

  materializer {
    initial-fan-out-buffer-size = 1
    max-fan-out-buffer-size     = 1
    initial-input-buffer-size   = 1
    max-input-buffer-size       = 1
    dispatcher                  = "flow.test.stream-dispatcher"
  }
}

client {
  materializer = ${flow.materializer}
  timeout      = 1 m    # Period to wait for a server response
  watermark    = 4
  reconnect    = 10 s   # Period between controller reconnection attempts
  speed        = 200 ms # Speed at which the fast producer generates subsequent batches of messages
}

controller {
  materializer = ${flow.materializer}
  host         = "localhost" # known address of gateway to controller (via port forwarding rules)
  port         = 8080
  update       = 1 s         #Â Period between calls to sendCurrentClusterState
  watermark    = 4
}

worker {
  die      = 4
  workload = 1 s # Period of time a worker will block for (when simulating a workload)
}
